webpackJsonp([1],{"0dXD":function(t,e){},"7Otq":function(t,e){t.exports="data:image/png;base64,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"},CEku:function(t,e){},EYrq:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},s,!1,function(t){a("bf+/")},null,null).exports,o=a("/ocq"),r={name:"login-page",mounted:function(){this.init()},methods:{init:function(){var t=localStorage.getItem("user"),e=localStorage.getItem("token");t&&e&&this.$router.push({name:"Home"})},finishUsername:function(t){this.username&&this.$refs.psd.focus()},handleSubmit:function(){var t=this;this.username&&this.password?this.$http({method:"post",url:"/login",data:{username:this.username,password:this.password}}).then(function(e){var a=e.data;if(0===a.code){var n=a.data.token;localStorage.setItem("token",n),localStorage.setItem("user",t.username),t.$router.push({name:"Home"})}else alert("密码错误！也可能用户名被抢先注册了！")}):alert("用户名密码是必填项~")}},data:function(){return{username:"",password:""}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-page"},[n("img",{attrs:{src:a("7Otq")}}),n("div",{staticClass:"login"},[t._v("问卷收集助手@Minus.live")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"username input",attrs:{placeholder:"用户名",type:"text"},domProps:{value:t.username},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.finishUsername(e)},input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"psd",staticClass:"password input",attrs:{placeholder:"密码",type:"password"},domProps:{value:t.password},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.handleSubmit(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("div",{staticClass:"btn",on:{click:t.handleSubmit}},[t._v("登录")]),n("div",{staticClass:"blank",staticStyle:{height:"100px"}}),n("div",{staticClass:"msg"},[t._v("无需注册，首次登陆自动注册")])])},staticRenderFns:[]};var l=a("VU/8")(r,c,!1,function(t){a("yho0")},"data-v-98dcbce8",null).exports,u={name:"my-forms-item",props:{info:{type:Object}},methods:{handleCheck:function(){this.$router.push({name:"Statistic",query:{id:this.info._id}})},handleEnter:function(){this.$router.push({name:"Question",query:{id:this.info._id}})},formatTime:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-forms-item"},[a("div",{staticClass:"title"},[t._v("标题: "+t._s(t.info.format.title))]),a("div",{staticClass:"time"},[t._v("创建时间: "+t._s(t.formatTime(t.info.timeTag)))]),a("div",{staticClass:"btns"},[a("div",{staticClass:"check",on:{click:function(e){e.stopPropagation(),t.handleCheck(e)}}},[t._v("查看数据")]),a("div",{staticClass:"enter",on:{click:function(e){e.stopPropagation(),t.handleEnter(e)}}},[t._v("前去分享")])])])},staticRenderFns:[]};var h={name:"home-my-forms",methods:{handleAdd:function(){this.$router.push({name:"CreateForm"})},getForms:function(){var t=this,e=localStorage.getItem("token");e?this.$http({method:"post",url:"/forms",data:{token:e}}).then(function(e){var a=e.data;0===a.code&&(t.forms=a.data.map(function(t){return t.format=JSON.parse(t.format),t}))}):this.$router.push({name:"Login"})}},data:function(){return{forms:[]}},mounted:function(){this.getForms()},watch:{"$route.fullPath":{handler:function(){this.getForms()}}},components:{MyFormsItem:a("VU/8")(u,d,!1,function(t){a("f2r0")},"data-v-211d0cff",null).exports}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"my-forms"},[this._l(this.forms,function(t){return e("my-forms-item",{key:t.id,attrs:{info:t}})}),this.forms.length?this._e():e("div",{staticClass:"msg"},[this._v("你还没创建过问卷。")]),e("div",{staticClass:"add",on:{click:this.handleAdd}},[this._v("+")])],2)},staticRenderFns:[]};var f={name:"home-page",mounted:function(){this.checkToken()},data:function(){return{items:[{name:"我的问卷"},{name:"更多"}],itemIndex:0,username:""}},methods:{checkToken:function(){localStorage.getItem("token")||this.$router.push({name:"Login"});var t=localStorage.getItem("user");this.username=t},handleBack:function(){localStorage.setItem("token",""),localStorage.setItem("user",""),this.$router.push({name:"Login"})},changeTab:function(t){this.itemIndex=t}},components:{MyForms:a("VU/8")(h,m,!1,function(t){a("CEku")},"data-v-0efdd75e",null).exports}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-page"},[a("div",{staticClass:"back",on:{click:t.handleBack}},[t._v("登出")]),a("h2",[t._v("hello, "+t._s(t.username))]),a("div",{staticClass:"home-tab"},t._l(t.items,function(e,n){return a("div",{key:e.id,staticClass:"home-tab-item",class:{active:t.itemIndex===n},on:{click:function(e){t.changeTab(n)}}},[t._v(t._s(e.name))])})),a("div",{staticClass:"home-content"},[a("my-forms",{directives:[{name:"show",rawName:"v-show",value:0===t.itemIndex,expression:"itemIndex === 0"}]}),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.itemIndex,expression:"itemIndex === 1"}],staticClass:"more"},[t._v("目前啥都没有...")])],1)])},staticRenderFns:[]};var p=a("VU/8")(f,v,!1,function(t){a("0dXD")},"data-v-3657c068",null).exports,g=a("mvHQ"),k=a.n(g),A={name:"create-form",methods:{handleDelKey:function(t){this.keys.splice(t,1)},handleAddKey:function(){this.keys.push({name:""})},handleBack:function(){this.$router.go(-1)},handleSave:function(){var t=this;if(this.title&&!(this.keys.filter(function(t){return!!t.name}).length<this.keys.length)){var e=localStorage.getItem("token");e?this.$http({method:"post",url:"/forms/create",data:{token:e,format:k()({title:this.title,keys:this.keys})}}).then(function(e){0===e.data.code&&t.handleBack()}):this.$router.push({name:"Login"})}}},data:function(){return{title:"",keys:[{name:""}]}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-form"},[a("div",{staticClass:"save",on:{click:t.handleSave}},[t._v("保存")]),a("div",{staticClass:"back",on:{click:t.handleBack}},[t._v("返回")]),a("div",{staticClass:"line"},[a("div",{staticClass:"label"},[t._v("问卷标题:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input",attrs:{placeholder:"标题是必填的..."},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._l(t.keys,function(e,n){return a("div",{key:e.id,staticClass:"line"},[a("div",{staticClass:"label"},[t._v("问题"+t._s(n+1)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keys[n].name,expression:"keys[index].name"}],staticClass:"input",attrs:{placeholder:"输入问题"+(n+1)},domProps:{value:t.keys[n].name},on:{input:function(e){e.target.composing||t.$set(t.keys[n],"name",e.target.value)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:n>0,expression:"index > 0"}],staticClass:"btn",on:{click:function(e){t.handleDelKey(n)}}},[t._v("del")])])}),a("div",{staticClass:"add-key",on:{click:t.handleAddKey}},[t._v("添加问题")]),a("div",{staticClass:"footer"})],2)},staticRenderFns:[]};var w=a("VU/8")(A,C,!1,function(t){a("EYrq")},"data-v-17131080",null).exports,I={name:"question",mounted:function(){this.url=window.location.href,this.qrcode=new QRCode(document.getElementById("qrcode"),{width:100,height:100}),this.qrcode.makeCode(window.location.href),localStorage.getItem("token")&&(this.showBack=!0),this.getDetail()},data:function(){return{url:"",showBack:!1,format:{title:""}}},methods:{handleSubmit:function(){var t=this;this.format.keys.filter(function(t){return t.value}).length<this.format.keys.length?alert("请填写完整"):this.$http({method:"post",url:"/forms/answer",data:{fid:this.fid,answer:k()(this.format)}}).then(function(e){0===e.data.code&&(alert("保存成功"),t.$router.push({name:"Home"}))})},handleBack:function(){this.$router.go(-1)},getDetail:function(){var t=this,e=this.$route.query.id;e||this.$router.go(-1),this.fid=e,this.$http({method:"post",url:"/forms",data:{id:e}}).then(function(e){var a=e.data;0===a.code&&(t.format=JSON.parse(a.data.format))})}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"question"},[t.showBack?a("div",{staticClass:"back",on:{click:t.handleBack}},[t._v("返回")]):a("div",{staticClass:"back",on:{click:function(e){t.$router.push("/")}}},[t._v("制作")]),a("h1",{staticClass:"title"},[t._v(t._s(t.format.title))]),t._l(t.format.keys,function(e,n){return a("div",{key:e.id,staticClass:"line"},[a("div",{staticClass:"label"},[t._v(t._s(n+1)+"."+t._s(e.name))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"key.value"}],staticClass:"input",attrs:{placeholder:"请输入你的答案"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])}),t._m(0),a("div",{staticClass:"submit",on:{click:t.handleSubmit}},[t._v("提交")])],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"url"},[e("div",{attrs:{id:"qrcode"}}),e("br"),e("p",{staticStyle:{color:"#aaa","margin-top":"10px","text-align":"center"}},[this._v("长按保存，分享二维码")])])}]};var E=a("VU/8")(I,y,!1,function(t){a("PE3+")},"data-v-02160acb",null).exports,B={name:"statistic",mounted:function(){this.getStatistic()},data:function(){return{answers:[]}},methods:{handleBack:function(){console.log(1),this.$router.go(-1)},handleBuild:function(){var t="http://q.api.kevinaskin.cn/download?fid="+this.fid;window.location.href=t},formatTime:function(t){var e,a,n=new Date(t);return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+(e=n.getMinutes(),(a=e.toString()).length<2?"0"+a:a)},handleCheck:function(t){this.$router.push({name:"Viewer",query:{id:t._id}})},getStatistic:function(){var t=this,e=this.$route.query.id;e?(this.fid=e,this.$http({method:"post",url:"/forms/statistic",data:{fid:e}}).then(function(e){console.log(e);var a=e.data;0===a.code&&(t.answers=a.data.answers)})):this.$router.go(-1)}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statistic"},[a("div",{staticClass:"back",on:{click:t.handleBack}},[t._v("返回")]),a("h1",[t._v("统计数据")]),a("div",{staticClass:"msg"},[t._v("目前共有"+t._s(t.answers.length)+"个人填写了问卷 "),a("a",{staticStyle:{color:"#358ffe"},on:{click:t.handleBuild}},[t._v(" 点击下载")])]),t._l(t.answers,function(e,n){return a("div",{key:e.id,staticClass:"answer"},[a("span",{staticClass:"time"},[t._v(t._s(n+1)+". "+t._s(t.formatTime(e.timeTag)))]),a("span",{staticClass:"check",on:{click:function(a){t.handleCheck(e)}}},[t._v("查看")])])})],2)},staticRenderFns:[]};var b=a("VU/8")(B,S,!1,function(t){a("U8uo")},"data-v-6e891019",null).exports,Q={name:"viewer",mounted:function(){localStorage.getItem("token")&&(this.showBack=!0),this.getDetail()},data:function(){return{showBack:!1,answer:{title:""}}},methods:{handleBack:function(){this.$router.go(-1)},getDetail:function(){var t=this,e=this.$route.query.id;e||this.$router.go(-1),this.fid=e,this.$http({method:"post",url:"/forms/answer/detail",data:{aid:e}}).then(function(e){var a=e.data;0===a.code&&(t.answer=JSON.parse(a.data.answer))})}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view"},[t.showBack?a("div",{staticClass:"back",on:{click:t.handleBack}},[t._v("返回")]):a("div",{staticClass:"back",on:{click:function(e){t.$router.push("/")}}},[t._v("制作")]),a("h1",{staticClass:"title"},[t._v(t._s(t.answer.title))]),t._l(t.answer.keys,function(e,n){return a("div",{key:e.id,staticClass:"line"},[a("div",{staticClass:"label"},[t._v(t._s(n+1)+"."+t._s(e.name))]),a("div",{staticClass:"input"},[t._v(t._s(e.value))])])})],2)},staticRenderFns:[]};var R=a("VU/8")(Q,D,!1,function(t){a("wYut")},"data-v-82fff824",null).exports;n.a.use(o.a);var x=new o.a({routes:[{path:"/",name:"Login",component:l},{path:"/home",name:"Home",component:p},{path:"/create-form",name:"CreateForm",component:w},{path:"/question",name:"Question",component:E},{path:"/statistic",name:"Statistic",component:b},{path:"/viewer",name:"Viewer",component:R}]}),Y=a("mtWM"),G=a.n(Y);n.a.prototype.$http=G.a.create({baseURL:"http://q.api.kevinaskin.cn"}),n.a.config.productionTip=!1,new n.a({el:"#app",router:x,components:{App:i},template:"<App/>"})},"PE3+":function(t,e){},U8uo:function(t,e){},"bf+/":function(t,e){},f2r0:function(t,e){},wYut:function(t,e){},yho0:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.889bdb9c44692f4da7a6.js.map